<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <title>LiquiBase: Rolling Back ChangeSets</title>
        <style type='text/css' media='screen'>@import "../../include/css/main.css";</style>
    </head>
    <body>@ANALYTICS@
        <img src="../../images/liquibase_logo.gif" alt="LiquiBase" class="topLogo"/>
        <p id="sitename">
            <strong>LiquiBase: Database Refactoring</strong>
        </p>

        <div id="container">
                @NAV.MANUAL@


            <div id="content">
                <div class="entry">
                    <h2>Rolling Back ChangeSets</h2>
                    <p>
                        LiquiBase allows you to undo changes you have made to your database, either automatically or via custom rollback SQL.
                        Rollback support is available in the <a href="command_line_migrator.html">command line</a>, <a href="ant.html">Ant</a>,
                        and <a href="maven.html">Maven</a> migrators.
                    </p>
                    <h2>How Rollback SQL is controlled</h2>
                    <p>
                        Many refactorings such as "create table", "rename column", and "add column" can automatically create rollback statements.
                        If your change log contains only statements that fit into this category, your rollback commands will be generated automatically.
                    </p>
                    <p>
                        Other refactorings such as "drop table" and "insert data" have no corresponding rollback commands that can be automatically generated.
                        In these cases, and cases where you want to override the default generated rollback commands, you can specify the rollback commands via the &lt;rollback/&gt; tag within the changeSet tag.
                    </p>
                    <h2>Rollback Modes</h2>
                    <p>LiquiBase has three modes for managing rollbacks</p>
                    <h3>Execute Rollback Directly</h3>
                    <p>
                        The rollback commands can be executed directly against the database by passing in a date/time that you
                        want to rollback to.  If any changes cannot be rolled back, you will be notified and none of the changes
                        will roll back.
                    </p>
                    <h3>Generating a Rollback Script</h3>
                    <p>
                        Rather than actually updating the database, the SQL required to roll back the database to the specified date/time
                        can be generated.  This is useful if you want to preview what rollback commands will be executed before they are
                        actually run.
                    </p>
                    <h3>Generating a "Future Rollback" Script</h3>
                    <p>
                        This mode is designed to allow you to generate a rollback script at the same time you generate your
                        migration script.  It allows you to take an updated application and generate both the SQL to update the
                        database to the new version as well as the SQL to bring that new version back to the current version if needed.
                        This functionality is very useful when a DBA wants to control SQL going into the database, as well as
                        for applications that require rollback documentation for internal and/or <a href="http://en.wikipedia.org/wiki/Sarbanes-Oxley_Act">SOX-compliant</a> processes.
                    </p>
                </div>
            </div>
        </div>

    </body>
</html>