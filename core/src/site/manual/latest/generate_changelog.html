<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <title>LiquiBase: Database Refactoring</title>
        <style type='text/css' media='screen'>@import "../../include/css/main.css";</style>
    </head>
    <body>@ANALYTICS@
        <img src="../../images/liquibase_logo.gif" alt="LiquiBase" class="topLogo"/>
        <p id="sitename">
            <strong>LiquiBase: Database Refactoring</strong>
        </p>

        <div id="container">
                @NAV.MANUAL@


            <div id="content">
                <div class="entry">
<h2>Generating Change Logs</h2>
<p>
    When starting to use LiquiBase on an existing database, it is often useful, particularly for testing, to have a way to generate the change log to create the current database schema.  LiquiBase allows you to do this with the "generateChangeLog" command line migrator command.
</p>

<h3>Example</h3>
<pre>
Liquibase.sh -driver=oracle.jdbc.OracleDriver \
      --classpath=\path\to\classes:jdbcdriver.jar \
      --changeLogFile=com/example/db.changelog.xml \
      --url="jdbc:oracle:thin:@localhost:1521:XE" \
      --username=scott \
      --password=tiger \
      generateChangeLog</pre>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.1
    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.1.xsd"&gt;
    &lt;changeSet author="diff-generated" id="1185214997195-1"&gt;
        &lt;createTable name="BONUS"&gt;
            &lt;column name="ENAME" type="VARCHAR2(10,0)"/&gt;
            &lt;column name="JOB" type="VARCHAR2(9,0)"/&gt;
            &lt;column name="SAL" type="NUMBER(22,0)"/&gt;
            &lt;column name="COMM" type="NUMBER(22,0)"/&gt;
        &lt;/createTable&gt;
    &lt;/changeSet&gt;
    &lt;changeSet author="diff-generated" id="1185214997195-2"&gt;
        &lt;createTable name="DEPT"&gt;
            &lt;column name="DEPTNO" type="NUMBER(2,0)"/&gt;
            &lt;column name="DNAME" type="VARCHAR2(14,0)"/&gt;
            &lt;column name="LOC" type="VARCHAR2(13,0)"/&gt;
        &lt;/createTable&gt;
    &lt;/changeSet&gt;
    &lt;changeSet author="diff-generated" id="1185214997195-3"&gt;
        &lt;createTable name="EMP"&gt;
            &lt;column name="EMPNO" type="NUMBER(4,0)"/&gt;
            &lt;column name="ENAME" type="VARCHAR2(10,0)"/&gt;
            &lt;column name="JOB" type="VARCHAR2(9,0)"/&gt;
            &lt;column name="MGR" type="NUMBER(4,0)"/&gt;
            &lt;column name="HIREDATE" type="DATE(7,0)"/&gt;
            &lt;column name="SAL" type="NUMBER(7,2)"/&gt;
            &lt;column name="COMM" type="NUMBER(7,2)"/&gt;
            &lt;column name="DEPTNO" type="NUMBER(2,0)"/&gt;
        &lt;/createTable&gt;
    &lt;/changeSet&gt;
    &lt;changeSet author="diff-generated" id="1185214997195-4"&gt;
        &lt;createTable name="SALGRADE"&gt;
            &lt;column name="GRADE" type="NUMBER(22,0)"/&gt;
            &lt;column name="LOSAL" type="NUMBER(22,0)"/&gt;
            &lt;column name="HISAL" type="NUMBER(22,0)"/&gt;
        &lt;/createTable&gt;
    &lt;/changeSet&gt;
    &lt;changeSet author="diff-generated" id="1185214997195-5"&gt;
        &lt;addForeignKeyConstraint baseColumnNames="DEPTNO"
            baseTableName="DEPT" constraintName="FK_NAME"
            referencedColumnNames="DEPTNO" referencedTableName="EMP"/&gt;
    &lt;/changeSet&gt;
    &lt;changeSet author="diff-generated" id="1185214997195-6"&gt;
        &lt;createIndex indexName="PK_DEPT" tableName="DEPT"&gt;
            &lt;column name="DEPTNO"/&gt;
        &lt;/createIndex&gt;
    &lt;/changeSet&gt;
    &lt;changeSet author="diff-generated" id="1185214997195-7"&gt;
        &lt;createIndex indexName="PK_EMP" tableName="EMP"&gt;
            &lt;column name="EMPNO"/&gt;
        &lt;/createIndex&gt;
    &lt;/changeSet&gt;
    &lt;changeSet author="diff-generated" id="1185214997195-8"&gt;
        &lt;addPrimaryKey columnNames="DEPTNO" tableName="DEPT"/&gt;
    &lt;/changeSet&gt;
    &lt;changeSet author="diff-generated" id="1185214997195-9"&gt;
        &lt;addPrimaryKey columnNames="EMPNO" tableName="EMP"/&gt;
    &lt;/changeSet&gt;
&lt;/databaseChangeLog&gt;</pre>
                </div>
            </div>
        </div>

    </body>
</html>