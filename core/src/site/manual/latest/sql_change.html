<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <title>LiquiBase: Custom SQL</title>
        <style type='text/css' media='screen'>@import "../../include/css/main.css";</style>
    </head>
    <body>@ANALYTICS@
        @SITE_NAME@

        <div id="container">
                @NAV.MANUAL@


            <div id="content">
                <div class="entry">
                    <h2>"Custom SQL" Refactoring</h2>
                    <p>
                        The "sql" tag allows you to specify whatever sql you want.
                        It is useful for complex changes that aren't supported through LiquiBase's automated refactoring tags
                        and to work around bugs and limitations of LiquiBase.  The SQL contained in the sql tag can be multi-line.
                    </p>
                    <p>
                        The createProcedure tag is the best way to create stored procedures.
                    </p>
                    <p>The "sql" tag can also support multiline statements in the same file. Statements can either be split using a ; 
                                               at the end of the last line of the SQL or a go on its own on the line between the statements can be used.Multiline SQL 
                                               statements are also supported and only a ; or go statement will finsih a statement, a new line is not enough. Files containing 
                                                a single statement do not need to use a ; or go.

                    </p>

                    <p>The sql change can also contain comments of either of the following formats:<br/>
                       <ol>
                           <li>A multiline comment that starts with /* and ends with */.
                           <li>A single line comment starting with &lt;space&gt;--&lt;space&gt and finishing at the end of the line
                       </ol>
                    </p>

                    <p>
                        <b>Note:</b> By default it will attempt to split statements on a ";" or "go" at the end of lines.
                        Because of this, if you have a comment or some other non-statement ending ";" or "go", don't have it at the end of a line
                        or you will get invalid SQL.
                    </p>

                    <h3>Sample</h3>
                    <pre>&lt;sql&gt;insert into person (id, name) values (1, 'Bob')&lt;/sql&gt;</pre>

                     <h3>Available Attributes</h3>
                     <table class="attributesTable">
                         <tr><th>stripComments</th><td>Set to <i>true</i> to remove any comments in the SQL before executing, otherwise false. Defaults to false if not set</td></tr>
                         <tr><th>splitStatements</th><td>Set to <i>false</i> to not have liquibase split statements on ;'s and GO's.  Defaults to true if not set</td></tr>
                     </table>

                    <h3>Database Compatiblity</h3>
                    <table class="databaseCompatibiltyTable">
                        <tr><th>MySQL</th><td>No Issues</td></tr>
                        <tr><th>PostgreSQL</th><td>No Issues</td></tr>
                        <tr><th>Oracle</th><td>No Issues</td></tr>
                        <tr><th>MS-SQL</th><td>No Issues</td></tr>
                        <tr><th>Sybase</th><td>Sybase might require stripComments to be set to true for multiline sql</td></tr>
                        <tr><th>DB2</th><td>No Issues</td></tr>
                        <tr><th>HSQL</th><td>No Issues</td></tr>                                                
                        <tr><th>Derby</th><td>No Issues</td></tr>
                        <tr><th>H2</th><td>No Issues</td></tr>
                        <tr><th>Cach&eacute;</th><td>No Issues</td></tr>
                        <tr><th>Firebird</th><td>No Issues</td></tr>
                        <tr><th>MaxDB</th><td>No Issues</td></tr>                        
                    </table>

                    <h3>Automatic Rollback Support: <strong>NO</strong></h3>

                </div>
            </div>
        </div>

    </body>
</html>