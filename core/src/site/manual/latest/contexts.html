<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <title>LiquiBase: Contexts</title>
        <style type='text/css' media='screen'>@import "../../include/css/main.css";</style>
    </head>
    <body>@ANALYTICS@
        <img src="../../images/liquibase_logo.gif" alt="LiquiBase" class="topLogo"/>
        <p id="sitename">
            <strong>LiquiBase: Database Refactoring</strong>
        </p>

        <div id="container">
                @NAV.MANUAL@


            <div id="content">
                <div class="entry">
                    <h2>Contexts</h2>
                    <p>
                        "Contexts" in LiquiBase are tags you can add to changeSets to control which will be executed in
                        any particular migration run.  Any string can be used for the context name and they are checked
                        case-insensitively.
                    </p>
                    <p>
                        When you run the migrator though any of the available methods, you can pass
                        in a set of contexts to run.  Only changeSets marked with the passed contexts will be run.
                    </p>
                    <p>
                        If you don't assign a context to a changeSet, it will run all the time, regardless of what contexts
                        you pass in to the migrator.
                    </p>
                    <p>
                        If you do not specify a context when you run the migrator, ALL contexts will be run.
                    </p>
                    <h2>Using Contexts for Test Data</h2>
                    <p>
                        If you are managing your test data with LiquiBase, the best way to include it is in-line with all your
                        other changeSets, but marked with a "test" context.  That way, when you want your test data inserted you can
                        run the migrator with the "test" context.  When it comes time to migrate your production database, don't include
                        the "test" context, and your test data not be included.  If you have multiple test environments or
                        test data sets, simply tag them with different contexts such as "min-test", "integration-test", etc.
                    </p>
                    <p>
                        Using contexts to control test data is better than having a separate changeLog tree because later
                        refactorings and changes will be applied to existing test data the same as they are applied to production data.
                        If you had a set of test data that was created and simply added after the database is set up, you would be
                        constantly manually updating your test data scripts to keep them in line with the current database schema.
                    </p>
                    <h2>Using Contexts for Multi-DBMS Change Logs</h2>
                    <p>
                        If you are creating a product that is designed to work on multiple DBMS systems, you may
                        be able to have a single change log that can be applied to different DBMS systems.
                        Most of the refactorings will generate DMBS-specific code from DBMS-independent XML descriptions,
                        but there are some exceptions.  If you add contexts such as "oracle","mssql", or "mysql" to DBMS-specific
                        changeSets, you may be able to limit the number of change logs you need to maintain.
                    </p>

                </div>
            </div>
        </div>

    </body>
</html>